---
title: C语言简明笔记
published: 2026-02-23
updated: 2026-02-23
description: ''
image: ''
tags: [编程语言]
category: '编程'
draft: false 
lang: ''
---
```C
#include<stdio.h>

int main(){
    printf("Hello world\n");
}
```

# 字符串

使str指向字符串的第一个字符。

```C
#include<stdio.h>

int main(){
    char *str;
    str = "Hello world\n";
    printf("%s",str);
}
```

## 访问字符串中的字符

```C
#include<stdio.h>

int count_spaces(const char s[]){
    int c = 0;
    int i;
    for(i = 0;s[i] != '\0';i ++){
        if(s[i] == ' ') c ++;
    }
    return c;
}

int main(){
    char *str;
    str = "Hello the world of C\n";
    printf("%s",str);
    printf("%d\n",count_spaces(str));
}
```

## 使用 C 语言的字符串库

在 C 语言中把字符串当作数组来处理,因此对字符串的限制方式和对数组的一样,特别是它们都不能用 C 语言的运算符进行复制和比较操作。

C 语言的函数库为完成对字符串的操作提供了丰富的函数集。这些函数的原型驻留在`<string.h>`头

### strncpy()
```C
#include<stdio.h>
#include<string.h>

int main(){
    char *str;
    str = "Hello the world of C\n";
    printf("%s",str);
    char str1[10] = "";
    char str2[30] = "";
    strncpy(str1, str, sizeof(str1) - 1);
    strncpy(str2, str, sizeof(str2) - 1);
    printf("%s\n",str1);
    printf("%s",str2);
}
```

```C
#include<stdio.h>
#include<string.h>

int main(){
    char *str;
    str = "Hello the world of C\n";
    printf("%s",str);
    char str1[40] = "";
    
    // strncat(目标数组, 源字符串, 目标数组剩余空间)
    strncat(str1, str, sizeof(str1) - strlen(str1) - 1);
    strncat(str1, str, sizeof(str1) - strlen(str1) - 1);
    
    // 确保字符串以 \0 结尾
    str1[sizeof(str1) - 1] = '\0';

    printf("%s", str1);
}
```