---
title: 网络层
published: 2025-03-19
updated: 2025-03-19
description: ''
image: ''
tags: [408统考]
category: '计算机网络'
draft: false 
lang: ''
---

> 大纲
> 1 网络层的功能 1.1 异构网络互连 1.2 路由与转发 1.3 SDN基本概念 1.4 拥塞控制
> 2 路由算法 2.1 静态路由与动态路由

# 1 网络层的功能

数据链路层解决了同一局域网(直连网络)计算机间帧的传输问题,没有解决以下问题

+ 1 异构网络互联,即跨局域网连接和资源共享; 
+ 2 互联网络中主机标识问题;
+ 3 互联网中主机间路由选择问题(最佳路径);
+ 4 互联网中数据转发的问题(分组转发)。

|  虚电路   |   数据报   |
| ---- | ---- |
|  <img src="https://raw.githubusercontent.com/MRchenyuheng/Blog_Pic_Bed/main/OS/20250319220642031.png"/>    | <img src="https://raw.githubusercontent.com/MRchenyuheng/Blog_Pic_Bed/main/OS/20250319220710355.png"/>      |

> 对比如下

<img src="https://raw.githubusercontent.com/MRchenyuheng/Blog_Pic_Bed/main/OS/20250319215944539.png"/>

## 1.1 异构网络互连

当中间设备是转发器或网桥时,这仅仅是把一个网络扩大了,而从网络层的角度看, 这仍然是一个网络,一般并不称之为网络互连。网关由于比较复杂,目前使用得较少。因此现在我们讨论网络互连时,都是指用路由器进行网络互连和路由选择。路由器其实就是一台专用计算机,用来在互联网中进行路由选择。

所谓虚拟互连网络也就是逻辑互连网络,它的意思就是互连起来的各种物理网络的异构性本来是客观存在的,但是我们利用协议IP就可以使这些性能各异的网络在网络层上看起来好像是一个统一的网络。这种使用协议IP的虚拟互连网络可简称为IP网.

使用IP网的好处是:当IP网上的主机进行通信时,就好像在一个单个网络上通信一样,它们看不见互连的各网络的具体异构细节(如具体的编址方案、路由选择协议,等等)。

<img src="https://raw.githubusercontent.com/MRchenyuheng/Blog_Pic_Bed/main/OS/20250319222515931.png"/>

> 直接交付和间接交付

分组从源节点A发送到目的节点B,若中间必须经过一个或几个路由器(这表示A和B不在同一个网络上),则是间接交付。但若不需要经过路由器(这表示A和B在同一个网络上),则是直接交付。

<img src="https://raw.githubusercontent.com/MRchenyuheng/Blog_Pic_Bed/main/OS/20250319223417696.png"/>

互联网可以由多种异构网络互连组成。

我们可以想象IP数据报就在网络层中传送,传输路径可省略路由器之间的网络以及连接在这些网络上的许多无关主机。

<img src="https://raw.githubusercontent.com/MRchenyuheng/Blog_Pic_Bed/main/OS/20250319223547167.png" height="60%" width="60%" />




## 1.2 路由与转发

## 1.3 SDN基本概念

> 网络层两层面

<img src="https://raw.githubusercontent.com/MRchenyuheng/Blog_Pic_Bed/main/OS/20250319220905229.png"/>

|  数据层面   |   控制层面   |
| ---- | ---- |
| 每个路由器独立工作                            |   路由器间需要相互协作   |
| 根据收到IP分组目的地址,按转发表转发至下一跳路由器  |  交换路由信息           |
| 采用硬件转发,速度快(纳秒数量级,10−9秒)          |    运行路由选择协议(软件),生成路由表(耗时⻓,秒级);    |

路由器之间传送的信息有以下两大类: 

第一类是转发源主机和目的主机之间所传送的数据,把源主机所发送的分组,像接力赛跑那样从一个路由器转发到下一个路由器,最后把分组传送到目的主机。

第二类则是传送路由信息,是根据路由选择协议所使用的路由算法,彼此不断地交换路由信息分组,目的是为了在路由器中创建路由表,并由此导出为转发分组而用的转发表。这一类信息的传送是为第一类数据的传送服务的。

把网络层抽象地划分为数据层面(或转发层面)和控制层面。

在数据层面中,每一个路由器根据本路由器生成的转发表,把收到的分组,从查找到的对应接口转发出去。为了加快转发的速率,现在的路由器通常都采用硬件进行转发,转发一个分组的时间为纳秒(10°秒)数量级。

但在控制层面中的情况则不同。一个路由器不可能独自创建出路由表。路由器必须和相邻的路由器经常交换路由信息,然后才能创建出本路由器的路由表。根据路由选择协议所用的路由算法计算路由要使用软件,这就慢多了,一般是秒的数量级。

最近在网络界提出的软件定义网络SDN(Software Defined Network),正在对这两个层面的结构进行了重大的改变。

## 1.4 拥塞控制

# 2 路由算法

## 2.1 静态路由与动态路由

## 2.2 距离-向量路由算法

## 2.3 链路状态路由算法

## 2.4 层次路由

# 3 IPv4

由于网际协议IP是用来使互连起来的许多计算机网络能够进行通信的,因此TCP/IP体系中的网络层常常被称为网际层(internet),或IP层。

IP地址就是给连接到互联网上的每一台主机(或路由器)的每一个接口,分配一个在全世界范围内是唯一的32位的标识符。

<img src="https://raw.githubusercontent.com/MRchenyuheng/Blog_Pic_Bed/main/OS/20250320103147081.png" height="70%" width="70%"/>

IP地址中的前n位是主机所连接的网络号,而IP地址中后面的(32 -n)位是主机号。

<img src="https://raw.githubusercontent.com/MRchenyuheng/Blog_Pic_Bed/main/NET/20250320110416022.png"/>

## 3.1 IPv4分组

# 参考资料

> 计算机网络/谢希仁编著.—8版.一北京:电子工业出版社,2021.6 ISBN 978-7-121-41174-8

> 深入浅出计算机网络(微课视频版) 高军